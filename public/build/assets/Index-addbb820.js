import{_ as h,a as d,r as b,o as l,c as r,b as s,d as p,e as c,F as f,h as _,t as n,w as v,v as y,n as g,g as x,f as I,i as k}from"./app-7b357068.js";import T from"./Master-a07dbbf0.js";const w={layout:T,data(){return{IncomeTYpes:[],form:{id:"",name:"",process:this.process},formErrors:[],formStatus:1,process:"Income"}},created(){this.fetchIncomes()},methods:{fetchIncomes(){d.get(route("api.income.expense.fetch",this.process)).then(t=>{this.IncomeTYpes=t.data}).catch(t=>{console.error(t)})},showEntry(t){d.get(route("api.income.expense.show",[t,this.process])).then(e=>{this.form.id=e.data.id,this.form.name=e.data.name}).catch(e=>{toastr.error(e)})},submit(){this.formStatus=0,d.post(route("api.income.expense.store"),this.form).then(()=>{this.formStatus=1,toastr.success("Income Type created successfully."),this.fetchIncomes(),this.$refs.closeModal.click()}).catch(t=>{this.formStatus=1,this.formErrors=t.response.data.errors||{},toastr.error(t.response.data.message)})},deleteThis(t){d.delete(route("api.income.expense.delete",[t,this.process])).then(()=>{this.fetchIncomes(),toastr.success("Income Type deleted successfully.")}).catch(e=>{console.error(e)})},clearFields(){this.form.id="",this.form.name="",this.formErrors=[]}}},E={id:"main",class:"main"},C={class:"pagetitle d-flex justify-content-between"},S={class:"section"},M={class:"card"},N={class:"card-body"},F={class:"table-responsive"},V={class:"table table-striped"},L={scope:"row"},A={class:"btn-group"},B=["onClick"],R={class:"modal fade",id:"updateRecordModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Y={class:"modal-dialog"},D={class:"modal-content"},j={class:"modal-header"},z={key:0,class:"modal-title text-primary"},U={key:1,class:"modal-title text-primary"},q={class:"modal-body"},G={class:"card card-body p-3"},H={class:"row g-3"},J={class:"col-12"},K={for:"name",class:"form-label"},O={key:0,class:"invalid-feedback"},P={class:"mt-3"},Q={key:1,class:"btn btn-success",type:"button",disabled:""},W={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function X(t,e,Z,$,o,i){const m=b("Link");return l(),r("main",E,[s("div",C,[e[4]||(e[4]=p('<div><h1 class="theme-text-color">Income Types</h1><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/dashboard">Alsmi</a></li><li class="breadcrumb-item">Income Types</li><li class="breadcrumb-item active">Index</li></ol></nav></div>',1)),s("div",null,[s("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:e[0]||(e[0]=(...a)=>i.clearFields&&i.clearFields(...a))},e[3]||(e[3]=[s("i",{class:"bi bi-plus-lg"},null,-1),c(" New Income Types ")]))])]),s("section",S,[s("div",M,[s("div",N,[e[7]||(e[7]=s("h5",{class:"card-title theme-text-color"}," All Income Types ",-1)),s("div",F,[s("table",V,[e[6]||(e[6]=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"#"),s("th",{scope:"col"},"Name"),s("th",{scope:"col"},"Action")])],-1)),s("tbody",null,[(l(!0),r(f,null,_(o.IncomeTYpes,(a,u)=>(l(),r("tr",{key:a.id},[s("th",L,n(u+1),1),s("td",null,[I(m,{class:"c-text-theme",href:t.route("income.expanse.details",["Income",a.id])},{default:k(()=>[c(n(a.name),1)]),_:2},1032,["href"])]),s("td",null,[s("div",A,[s("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:ss=>{i.showEntry(a.id),i.clearFields()}},e[5]||(e[5]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,B)])])]))),128))])])])])]),s("div",R,[s("div",Y,[s("div",D,[s("div",j,[o.form.id?(l(),r("h5",z,n(o.form.name),1)):(l(),r("h5",U," New "+n(o.process)+" Entry ",1)),e[8]||(e[8]=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),s("div",q,[s("div",G,[s("div",H,[s("div",J,[s("label",K,n(o.process)+" name",1),v(s("input",{type:"text",class:g(["form-control",{"invalid-bg":o.formErrors.name}]),id:"name","onUpdate:modelValue":e[1]||(e[1]=a=>o.form.name=a)},null,2),[[y,o.form.name]]),o.formErrors.name?(l(),r("div",O,n(o.formErrors.name[0]),1)):x("",!0)]),s("div",P,[o.formStatus===1?(l(),r("button",{key:0,type:"submit",class:"btn btn-success",onClick:e[2]||(e[2]=(...a)=>i.submit&&i.submit(...a))}," Save ")):(l(),r("button",Q,e[9]||(e[9]=[c(" Saving "),s("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),s("button",W,null,512)])])])}const os=h(w,[["render",X]]);export{os as default};
