import{_ as u,a as d,r as h,o as l,c as r,b as s,d as b,e as c,F as f,h as _,t as n,w as x,v as y,n as v,g as E,f as g,i as k}from"./app-781ff030.js";import T from"./Master-5da9f18f.js";const w={layout:T,data(){return{expenseType:[],form:{id:"",name:"",process:""},formErrors:[],formStatus:1,process:"Expense"}},created(){this.fetchExpenses()},methods:{fetchExpenses(){d.get(route("api.income.expense.fetch",this.process)).then(t=>{this.expenseType=t.data}).catch(t=>{console.error(t)})},showEntry(t){d.get(route("api.income.expense.show",[t,this.process])).then(e=>{this.form.id=e.data.id,this.form.name=e.data.name}).catch(e=>{toastr.error(e)})},submit(){this.formStatus=0,this.form.process="Expense",d.post(route("api.income.expense.store"),this.form).then(()=>{this.formStatus=1,toastr.success("Expense Type created successfully."),this.fetchExpenses(),this.$refs.closeModal.click()}).catch(t=>{this.formStatus=1,this.formErrors=t.response.data.errors||{},toastr.error(t.response.data.message)})},deleteThis(t){d.delete(route("api.income.expense.delete",[t,this.process])).then(()=>{this.fetchExpenses(),toastr.success("Expense Type deleted successfully.")}).catch(e=>{console.error(e)})},clearFields(){this.form.id="",this.form.name="",this.formErrors=[]}}},C={id:"main",class:"main"},S={class:"pagetitle d-flex justify-content-between"},M={class:"section"},N={class:"card"},F={class:"card-body"},V={class:"table-responsive"},L={class:"table table-striped"},A={scope:"row"},B={class:"btn-group"},R=["onClick"],D={class:"modal fade",id:"updateRecordModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},I={class:"modal-dialog"},j={class:"modal-content"},z={class:"modal-header"},U={key:0,class:"modal-title text-primary"},q={key:1,class:"modal-title text-primary"},G={class:"modal-body"},H={class:"card card-body p-3"},J={class:"row g-3"},K={class:"col-12"},O={for:"name",class:"form-label"},P={key:0,class:"invalid-feedback"},Q={class:"mt-3"},W={key:1,class:"btn btn-success",type:"button",disabled:""},X={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function Y(t,e,Z,$,o,i){const m=h("Link");return l(),r("main",C,[s("div",S,[e[4]||(e[4]=b('<div><h1 class="theme-text-color">Expense Types</h1><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/dashboard">Alsmi</a></li><li class="breadcrumb-item">Expense Types</li><li class="breadcrumb-item active">Index</li></ol></nav></div>',1)),s("div",null,[s("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:e[0]||(e[0]=(...a)=>i.clearFields&&i.clearFields(...a))},e[3]||(e[3]=[s("i",{class:"bi bi-plus-lg"},null,-1),c(" New Expense Types ")]))])]),s("section",M,[s("div",N,[s("div",F,[e[7]||(e[7]=s("h5",{class:"card-title theme-text-color"}," All Expense Types ",-1)),s("div",V,[s("table",L,[e[6]||(e[6]=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"#"),s("th",{scope:"col"},"Name"),s("th",{scope:"col"},"Action")])],-1)),s("tbody",null,[(l(!0),r(f,null,_(o.expenseType,(a,p)=>(l(),r("tr",{key:a.id},[s("th",A,n(p+1),1),s("td",null,[g(m,{class:"c-text-theme",href:t.route("income.expanse.details",["Expense",a.id])},{default:k(()=>[c(n(a.name),1)]),_:2},1032,["href"])]),s("td",null,[s("div",B,[s("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:ss=>{i.showEntry(a.id),i.clearFields()}},e[5]||(e[5]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,R)])])]))),128))])])])])]),s("div",D,[s("div",I,[s("div",j,[s("div",z,[o.form.id?(l(),r("h5",U,n(o.form.name),1)):(l(),r("h5",q," New "+n(o.process)+" Entry ",1)),e[8]||(e[8]=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),s("div",G,[s("div",H,[s("div",J,[s("div",K,[s("label",O,n(o.process)+" name",1),x(s("input",{type:"text",class:v(["form-control",{"invalid-bg":o.formErrors.name}]),id:"name","onUpdate:modelValue":e[1]||(e[1]=a=>o.form.name=a)},null,2),[[y,o.form.name]]),o.formErrors.name?(l(),r("div",P,n(o.formErrors.name[0]),1)):E("",!0)]),s("div",Q,[o.formStatus===1?(l(),r("button",{key:0,type:"submit",class:"btn btn-success",onClick:e[2]||(e[2]=(...a)=>i.submit&&i.submit(...a))}," Save ")):(l(),r("button",W,e[9]||(e[9]=[c(" Saving "),s("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),s("button",X,null,512)])])])}const os=u(w,[["render",Y]]);export{os as default};
