import{_ as p,a as f,r as _,o as n,c as a,b as t,d as k,e as b,F as y,h as g,t as l,w as i,v as c,n as m,g as u,f as B}from"./app-9b4504be.js";import E from"./Master-8e66192d.js";const x={layout:E,data(){return{Banks:[],form:{id:"",name:"",branch:"",date:"",title:"",account:"",current_amount:""},formErrors:[],formStatus:1}},created(){this.fetchBanks()},methods:{fetchBanks(){f.get(route("api.bank.fetch"),{headers:{Authorization:"Bearer "+this.$page.props.auth_token}}).then(r=>{this.Banks=r.data}).catch(r=>{console.error(r)})},submit(){this.formStatus=0,f.post(route("api.bank.store"),this.form).then(()=>{var r;this.formStatus=1,this.fetchBanks(),toastr.success("Bank record saved successfully."),(r=this.$refs.closeModal)==null||r.click()}).catch(r=>{this.formStatus=1,this.formErrors=r.response.data.errors||{}})},clearFields(){this.form={id:"",name:"",branch:"",date:"",title:"",account:"",current_amount:""},this.formErrors=[]},showBank(r){f.get(route("api.bank.show",r)).then(e=>{this.form={...e.data}}).catch(e=>{console.error(e)})},deleteThis(r){f.delete(route("api.bank.delete",r)).then(()=>{this.fetchBanks(),toastr.success("Bank record deleted successfully.")}).catch(e=>{console.error(e)})}}},V={id:"main",class:"main"},w={class:"pagetitle d-flex justify-content-between"},C={class:"section"},A={class:"card"},N={class:"card-body"},S={class:"table-responsive"},T={class:"table table-striped"},D={scope:"row"},M={class:"btn-group"},F=["onClick"],I={class:"modal fade",id:"bankmodal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},U={class:"modal-dialog"},z={class:"modal-content"},L={class:"modal-header"},j={key:0,class:"modal-title text-primary"},q={key:1,class:"modal-title text-primary"},G={class:"modal-body"},H={class:"card card-body p-3"},J={class:"row g-3"},K={class:"col-md-6 col-12"},O={key:0,class:"invalid-feedback"},P={class:"col-md-6 col-12"},Q={key:0,class:"invalid-feedback"},R={class:"col-md-6 col-12"},W={key:0,class:"invalid-feedback"},X={class:"col-md-6 col-12"},Y={key:0,class:"invalid-feedback"},Z={class:"col-md-6 col-12"},$={key:0,class:"invalid-feedback"},tt={class:"col-md-6 col-12"},et={key:0,class:"invalid-feedback"},st={class:"mt-3"},ot={key:1,class:"btn btn-success",type:"button",disabled:""},lt={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function rt(r,e,nt,at,s,d){const h=_("DeleteModal");return n(),a("main",V,[t("div",w,[e[9]||(e[9]=k('<div data-v-0f1ad9e6><h1 class="theme-text-color" data-v-0f1ad9e6>Banks</h1><nav data-v-0f1ad9e6><ol class="breadcrumb" data-v-0f1ad9e6><li class="breadcrumb-item" data-v-0f1ad9e6><a href="/dashboard" data-v-0f1ad9e6>Alsmi</a></li><li class="breadcrumb-item" data-v-0f1ad9e6>Banks</li><li class="breadcrumb-item active" data-v-0f1ad9e6>Index</li></ol></nav></div>',1)),t("div",null,[t("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal","data-bs-target":"#bankmodal",onClick:e[0]||(e[0]=(...o)=>d.clearFields&&d.clearFields(...o))},e[8]||(e[8]=[t("i",{class:"bi bi-plus-lg"},null,-1),b(" Add New Bank ")]))])]),t("section",C,[t("div",A,[t("div",N,[e[12]||(e[12]=t("h5",{class:"card-title theme-text-color"},"All Banks",-1)),t("div",S,[t("table",T,[e[11]||(e[11]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Bank Name"),t("th",{scope:"col"},"Branch"),t("th",{scope:"col"},"Title"),t("th",{scope:"col"},"Account #"),t("th",{scope:"col"},"Current Amount"),t("th",{scope:"col"},"Action")])],-1)),t("tbody",null,[(n(!0),a(y,null,g(s.Banks,(o,v)=>(n(),a("tr",{key:o.id},[t("th",D,l(v+1),1),t("td",null,l(o.name),1),t("td",null,l(o.branch),1),t("td",null,l(o.title),1),t("td",null,l(o.account),1),t("td",null,l(o.current_amount),1),t("td",null,[t("div",M,[t("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#bankmodal",onClick:dt=>{d.showBank(o.id),d.clearFields()}},e[10]||(e[10]=[t("i",{class:"bi bi-pencil"},null,-1)]),8,F),B(h,{deleteId:o.id,onDeleteThis:d.deleteThis},null,8,["deleteId","onDeleteThis"])])])]))),128))])])])])]),t("div",I,[t("div",U,[t("div",z,[t("div",L,[s.form.id?(n(),a("h5",j,[b(l(s.form.name)+" - "+l(s.form.title)+" ",1),t("small",null,"("+l(s.form.account)+")",1)])):(n(),a("h5",q," New Bank ")),e[13]||(e[13]=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),t("div",G,[t("div",H,[t("div",J,[t("div",K,[e[14]||(e[14]=t("label",{for:"name",class:"form-label"},"Bank Name",-1)),i(t("input",{type:"text",class:m(["form-control",{"invalid-bg":s.formErrors.name}]),id:"name","onUpdate:modelValue":e[1]||(e[1]=o=>s.form.name=o)},null,2),[[c,s.form.name]]),s.formErrors.name?(n(),a("div",O,l(s.formErrors.name[0]),1)):u("",!0)]),t("div",P,[e[15]||(e[15]=t("label",{for:"branch",class:"form-label"},"Branch",-1)),i(t("input",{type:"text",class:m(["form-control",{"invalid-bg":s.formErrors.branch}]),id:"branch","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.branch=o)},null,2),[[c,s.form.branch]]),s.formErrors.branch?(n(),a("div",Q,l(s.formErrors.branch[0]),1)):u("",!0)]),t("div",R,[e[16]||(e[16]=t("label",{for:"title",class:"form-label"},"Title",-1)),i(t("input",{type:"text",class:m(["form-control",{"invalid-bg":s.formErrors.title}]),id:"title","onUpdate:modelValue":e[3]||(e[3]=o=>s.form.title=o)},null,2),[[c,s.form.title]]),s.formErrors.title?(n(),a("div",W,l(s.formErrors.title[0]),1)):u("",!0)]),t("div",X,[e[17]||(e[17]=t("label",{for:"account",class:"form-label"},"Account #",-1)),i(t("input",{type:"text",class:m(["form-control",{"invalid-bg":s.formErrors.account}]),id:"account","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.account=o)},null,2),[[c,s.form.account]]),s.formErrors.account?(n(),a("div",Y,l(s.formErrors.account[0]),1)):u("",!0)]),t("div",Z,[e[18]||(e[18]=t("label",{for:"current_amount",class:"form-label"},"Current Amount",-1)),i(t("input",{type:"number",class:m(["form-control",{"invalid-bg":s.formErrors.current_amount}]),id:"current_amount","onUpdate:modelValue":e[5]||(e[5]=o=>s.form.current_amount=o)},null,2),[[c,s.form.current_amount]]),s.formErrors.current_amount?(n(),a("div",$,l(s.formErrors.current_amount[0]),1)):u("",!0)]),t("div",tt,[e[19]||(e[19]=t("label",{for:"date",class:"form-label"},"Date",-1)),i(t("input",{type:"date",class:m(["form-control",{"invalid-bg":s.formErrors.date}]),id:"date","onUpdate:modelValue":e[6]||(e[6]=o=>s.form.date=o)},null,2),[[c,s.form.date]]),s.formErrors.date?(n(),a("div",et,l(s.formErrors.date[0]),1)):u("",!0)]),t("div",st,[s.formStatus===1?(n(),a("button",{key:0,type:"submit",class:"btn btn-success",onClick:e[7]||(e[7]=(...o)=>d.submit&&d.submit(...o))}," Save ")):(n(),a("button",ot,e[20]||(e[20]=[b(" Saving "),t("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),t("button",lt,null,512)])])])}const mt=p(x,[["render",rt],["__scopeId","data-v-0f1ad9e6"]]);export{mt as default};
