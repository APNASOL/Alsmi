import{_ as f,a as d,r as m,o as a,c as r,b as e,d as _,e as c,F as x,h as y,t as n,w as v,v as E,n as g,g as k,f as p,i as T}from"./app-7f512d9d.js";import w from"./Master-1f1bcaf6.js";const M={layout:w,data(){return{expenseType:[],form:{id:"",name:"",process:""},formErrors:[],formStatus:1,process:"Expense"}},created(){this.fetchExpenses()},methods:{fetchExpenses(){d.get(route("api.income.expense.fetch",this.process)).then(t=>{this.expenseType=t.data}).catch(t=>{console.error(t)})},showEntry(t){d.get(route("api.income.expense.show",[t,this.process])).then(s=>{this.form.id=s.data.id,this.form.name=s.data.name}).catch(s=>{toastr.error(s)})},submit(){this.formStatus=0,this.form.process="Expense",d.post(route("api.income.expense.store"),this.form).then(()=>{this.formStatus=1,toastr.success("Expense Type created successfully."),this.fetchExpenses(),this.$refs.closeModal.click()}).catch(t=>{this.formStatus=1,this.formErrors=t.response.data.errors||{},toastr.error(t.response.data.message)})},deleteThis(t){d.delete(route("api.income.expense.delete",[t,this.process])).then(()=>{this.fetchExpenses(),toastr.success("Expense Type deleted successfully.")}).catch(s=>{console.error(s)})},clearFields(){this.form.id="",this.form.name="",this.formErrors=[]}}},C={id:"main",class:"main"},S={class:"pagetitle d-flex justify-content-between"},N={class:"section"},D={class:"card"},F={class:"card-body"},V={class:"table-responsive"},I={class:"table table-striped"},L={scope:"row"},A={class:"btn-group"},B=["onClick"],R={class:"modal fade",id:"updateRecordModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog"},z={class:"modal-content"},U={class:"modal-header"},q={key:0,class:"modal-title text-primary"},G={key:1,class:"modal-title text-primary"},H={class:"modal-body"},J={class:"card card-body p-3"},K={class:"row g-3"},O={class:"col-12"},P={for:"name",class:"form-label"},Q={key:0,class:"invalid-feedback"},W={class:"mt-3"},X={key:1,class:"btn btn-success",type:"button",disabled:""},Y={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function Z(t,s,$,ee,o,i){const h=m("Link"),u=m("DeleteModal");return a(),r("main",C,[e("div",S,[s[4]||(s[4]=_('<div><h1 class="theme-text-color">Expense Types</h1><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/dashboard">Alsmi</a></li><li class="breadcrumb-item">Expense Types</li><li class="breadcrumb-item active">Index</li></ol></nav></div>',1)),e("div",null,[e("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:s[0]||(s[0]=(...l)=>i.clearFields&&i.clearFields(...l))},s[3]||(s[3]=[e("i",{class:"bi bi-plus-lg"},null,-1),c(" New Expense Types ")]))])]),e("section",N,[e("div",D,[e("div",F,[s[7]||(s[7]=e("h5",{class:"card-title theme-text-color"}," All Expense Types ",-1)),e("div",V,[e("table",I,[s[6]||(s[6]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Action")])],-1)),e("tbody",null,[(a(!0),r(x,null,y(o.expenseType,(l,b)=>(a(),r("tr",{key:l.id},[e("th",L,n(b+1),1),e("td",null,[p(h,{class:"c-text-theme",href:t.route("income.expanse.details",["Expense",l.id])},{default:T(()=>[c(n(l.name),1)]),_:2},1032,["href"])]),e("td",null,[e("div",A,[e("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:se=>{i.showEntry(l.id),i.clearFields()}},s[5]||(s[5]=[e("i",{class:"bi bi-pencil"},null,-1)]),8,B),p(u,{deleteId:l.id,onDeleteThis:i.deleteThis},null,8,["deleteId","onDeleteThis"])])])]))),128))])])])])]),e("div",R,[e("div",j,[e("div",z,[e("div",U,[o.form.id?(a(),r("h5",q,n(o.form.name),1)):(a(),r("h5",G," New "+n(o.process)+" Entry ",1)),s[8]||(s[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",H,[e("div",J,[e("div",K,[e("div",O,[e("label",P,n(o.process)+" name",1),v(e("input",{type:"text",class:g(["form-control",{"invalid-bg":o.formErrors.name}]),id:"name","onUpdate:modelValue":s[1]||(s[1]=l=>o.form.name=l)},null,2),[[E,o.form.name]]),o.formErrors.name?(a(),r("div",Q,n(o.formErrors.name[0]),1)):k("",!0)]),e("div",W,[o.formStatus===1?(a(),r("button",{key:0,type:"submit",class:"btn btn-success",onClick:s[2]||(s[2]=(...l)=>i.submit&&i.submit(...l))}," Save ")):(a(),r("button",X,s[9]||(s[9]=[c(" Saving "),e("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),e("button",Y,null,512)])])])}const le=f(M,[["render",Z]]);export{le as default};
