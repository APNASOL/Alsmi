import{_ as f,a as d,r as m,o as a,c as r,b as e,d as _,e as c,F as v,h as y,t as i,w as g,v as x,n as I,g as k,f as h,i as T}from"./app-ffd8b3a9.js";import w from"./Master-cad82771.js";const E={layout:w,data(){return{IncomeTYpes:[],form:{id:"",name:"",process:this.process},formErrors:[],formStatus:1,process:"Income"}},created(){this.fetchIncomes()},methods:{fetchIncomes(){d.get(route("api.income.expense.fetch",this.process)).then(t=>{this.IncomeTYpes=t.data}).catch(t=>{console.error(t)})},showEntry(t){d.get(route("api.income.expense.show",[t,this.process])).then(s=>{this.form.id=s.data.id,this.form.name=s.data.name}).catch(s=>{toastr.error(s)})},submit(){this.formStatus=0,d.post(route("api.income.expense.store"),this.form).then(()=>{this.formStatus=1,toastr.success("Income Type created successfully."),this.fetchIncomes(),this.$refs.closeModal.click()}).catch(t=>{this.formStatus=1,this.formErrors=t.response.data.errors||{},toastr.error(t.response.data.message)})},deleteThis(t){d.delete(route("api.income.expense.delete",[t,this.process])).then(()=>{this.fetchIncomes(),toastr.success("Income Type deleted successfully.")}).catch(s=>{console.error(s)})},clearFields(){this.form.id="",this.form.name="",this.formErrors=[]}}},M={id:"main",class:"main"},C={class:"pagetitle d-flex justify-content-between"},S={class:"section"},N={class:"card"},D={class:"card-body"},F={class:"table-responsive"},V={class:"table table-striped"},L={scope:"row"},A={class:"btn-group"},B=["onClick"],R={class:"modal fade",id:"updateRecordModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Y={class:"modal-dialog"},j={class:"modal-content"},z={class:"modal-header"},U={key:0,class:"modal-title text-primary"},q={key:1,class:"modal-title text-primary"},G={class:"modal-body"},H={class:"card card-body p-3"},J={class:"row g-3"},K={class:"col-12"},O={for:"name",class:"form-label"},P={key:0,class:"invalid-feedback"},Q={class:"mt-3"},W={key:1,class:"btn btn-success",type:"button",disabled:""},X={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function Z(t,s,$,ee,o,n){const u=m("Link"),b=m("DeleteModal");return a(),r("main",M,[e("div",C,[s[4]||(s[4]=_('<div><h1 class="theme-text-color">Income Types</h1><nav><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/dashboard">Alsmi</a></li><li class="breadcrumb-item">Income Types</li><li class="breadcrumb-item active">Index</li></ol></nav></div>',1)),e("div",null,[e("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:s[0]||(s[0]=(...l)=>n.clearFields&&n.clearFields(...l))},s[3]||(s[3]=[e("i",{class:"bi bi-plus-lg"},null,-1),c(" New Income Types ")]))])]),e("section",S,[e("div",N,[e("div",D,[s[7]||(s[7]=e("h5",{class:"card-title theme-text-color"}," All Income Types ",-1)),e("div",F,[e("table",V,[s[6]||(s[6]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Action")])],-1)),e("tbody",null,[(a(!0),r(v,null,y(o.IncomeTYpes,(l,p)=>(a(),r("tr",{key:l.id},[e("th",L,i(p+1),1),e("td",null,[h(u,{class:"c-text-theme",href:t.route("income.expanse.details",["Income",l.id])},{default:T(()=>[c(i(l.name),1)]),_:2},1032,["href"])]),e("td",null,[e("div",A,[e("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#updateRecordModal",onClick:se=>{n.showEntry(l.id),n.clearFields()}},s[5]||(s[5]=[e("i",{class:"bi bi-pencil"},null,-1)]),8,B),h(b,{deleteId:l.id,onDeleteThis:n.deleteThis},null,8,["deleteId","onDeleteThis"])])])]))),128))])])])])]),e("div",R,[e("div",Y,[e("div",j,[e("div",z,[o.form.id?(a(),r("h5",U,i(o.form.name),1)):(a(),r("h5",q," New "+i(o.process)+" Entry ",1)),s[8]||(s[8]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",G,[e("div",H,[e("div",J,[e("div",K,[e("label",O,i(o.process)+" name",1),g(e("input",{type:"text",class:I(["form-control",{"invalid-bg":o.formErrors.name}]),id:"name","onUpdate:modelValue":s[1]||(s[1]=l=>o.form.name=l)},null,2),[[x,o.form.name]]),o.formErrors.name?(a(),r("div",P,i(o.formErrors.name[0]),1)):k("",!0)]),e("div",Q,[o.formStatus===1?(a(),r("button",{key:0,type:"submit",class:"btn btn-success",onClick:s[2]||(s[2]=(...l)=>n.submit&&n.submit(...l))}," Save ")):(a(),r("button",W,s[9]||(s[9]=[c(" Saving "),e("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),e("button",X,null,512)])])])}const le=f(E,[["render",Z]]);export{le as default};
