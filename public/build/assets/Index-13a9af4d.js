import{_ as D,a as f,r as y,o as l,c as a,b as s,d as T,e as g,g as c,f as p,w as b,v as _,n as h,t as d,F as C,h as F}from"./app-781ff030.js";import w from"./Master-5da9f18f.js";import{s as M}from"./multiselect-2dd2a9a9.js";import"./jspdf.plugin.autotable-6c2269d8.js";import{Z as V}from"./vue-datepicker-8b154446.js";import"./main-ae0ebc8a.js";import"./defineProperty-4d844dfb.js";const I={layout:w,created(){this.pluckExpansTypes(),this.pluckIncomeTypes(),this.process_type="Income"},components:{Multiselect:M,Datepicker:V},data(){return{transactionEntries:[],selectedFilter:"",selectedMonth:"",selectedYear:"",startDate:"",endDate:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],years:Array.from({length:10},(o,e)=>new Date().getFullYear()-e),transactionEntries:[],form:{id:"",cash_in:"",cash_out:"",date:"",ref_no:"",method:"",remarks:"",expense_type:"",income_type:"",process_type:"",receipt_image:""},formErrors:[],formStatus:1,isCashInReadonly:!1,isCashOutReadonly:!1,ExpansTypesOpions:[],IncomeTypesOpions:[],methodTypesOpions:["Bank","Cash"],processTypeOptions:["Expense","Income"],monthsOptions:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],yearsOptions:Array.from({length:2050-2025+1},(o,e)=>2025+e),existing_receipt_image:"",FilterErrors:"",serachingLoading:!1,pdfBtnLoader:!1,excelBtnLoader:!1,printBtnLoader:!1,today:new Date().toISOString().split("T")[0]}},mounted(){this.fetchTransactionEntries()},methods:{clearProcessType(){this.form.cash_in="",this.form.cash_out=""},fetchTransactionEntries(){if(this.serachingLoading=!0,this.FilterErrors="",this.selectedFilter==="Monthly"&&(!this.selectedMonth||!this.selectedYear)){this.FilterErrors="Please select both Month and Year for the Monthly filter.",this.serachingLoading=!1;return}if(this.selectedFilter==="Yearly"&&!this.selectedYear){this.FilterErrors="Please select a Year for the Yearly filter.",this.serachingLoading=!1;return}if(this.selectedFilter==="Custom"&&(!this.startDate||!this.endDate)){this.FilterErrors="Please select both Start Date and End Date for the Custom filter.",this.serachingLoading=!1;return}let o=new FormData;o.append("selectedFilter",this.selectedFilter),this.selectedMonth&&o.append("selectedMonth",this.selectedMonth),this.selectedYear&&o.append("selectedYear",this.selectedYear),this.startDate&&o.append("startDate",this.startDate),this.endDate&&o.append("endDate",this.endDate),f.post(route("api.transaction.fetch"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{this.serachingLoading=!1,this.transactionEntries=e.data}).catch(e=>{this.serachingLoading=!1,console.error(e)})},calculateBalance(o){let e=0;for(let n=0;n<=o;n++){const m=this.transactionEntries[n],t=parseFloat(m.cash_in)||0,i=parseFloat(m.cash_out)||0;e+=t,e-=i}return this.formatCurrency(e)},submit(){let o=new FormData;const e=n=>(n??"").toString().trim()===""?"":n;o.append("id",e(this.form.id)),o.append("cash_in",e(this.form.cash_in)),o.append("cash_out",e(this.form.cash_out)),o.append("date",e(this.form.date)),o.append("ref_no",e(this.form.ref_no)),o.append("method",e(this.form.method)),o.append("remarks",e(this.form.remarks)),o.append("expense_type",e(this.form.expense_type)),o.append("income_type",e(this.form.income_type)),o.append("process_type",e(this.form.process_type)),this.form.receipt_image&&o.append("receipt_image",this.form.receipt_image),this.formStatus=0,f.post(route("api.transaction.store"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var n;this.formStatus=1,this.fetchTransactionEntries(),toastr.success("Transaction entry saved successfully."),(n=this.$refs.closeModal)==null||n.click()}).catch(n=>{this.formStatus=1,toastr.error(n.response.data.message),this.formErrors=n.response.data.errors,console.log(this.formErrors),console.log(this.formErrors)})},formatCurrency(o){return new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o)},clearFields(){this.form={id:"",remarks:"",cash_in:"",cash_out:"",date:"",receipt_image:""},this.existing_receipt_image="",this.formErrors=[]},showEntry(o){f.get(route("api.transaction.show",o)).then(e=>{console.log(e.data),this.form={id:e.data.id,cash_in:parseInt(e.data.cash_in),cash_out:e.data.cash_out,date:e.data.transaction_date,ref_no:e.data.ref_no,method:e.data.method,remarks:e.data.remarks,expense_type:e.data.expense_type||"",income_type:e.data.income_type||"",process_type:e.data.process_type||""},this.existing_receipt_image=e.data.receipt_image}).catch(e=>{toastr.error(e.response.data.message)})},deleteThis(o){f.delete(route("api.transaction.delete",o)).then(()=>{this.fetchTransactionEntries(),toastr.success("Transaction entry deleted successfully.")}).catch(e=>{console.error(e)})},pluckExpansTypes(){f.get(route("api.income.pluck")).then(o=>{this.IncomeTypesOpions=o.data}).catch(o=>{console.error(o)})},pluckIncomeTypes(){f.get(route("api.expense.pluck")).then(o=>{this.ExpansTypesOpions=o.data}).catch(o=>{console.error(o)})},exportToExcel(){this.excelBtnLoader=!0;let o=new FormData;o.append("selectedFilter",this.selectedFilter),this.selectedMonth&&o.append("selectedMonth",this.selectedMonth),this.selectedYear&&o.append("selectedYear",this.selectedYear),this.startDate&&o.append("startDate",this.startDate),this.endDate&&o.append("endDate",this.endDate),f.post(route("download-excel"),o,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}).then(e=>{this.excelBtnLoader=!1;const n=window.URL.createObjectURL(new Blob([e.data])),m=document.createElement("a");m.href=n,m.download="transaction_report.xlsx",document.body.appendChild(m),m.click(),document.body.removeChild(m)}).catch(e=>{var n,m;this.excelBtnLoader=!1,toastr.error(((m=(n=e.response)==null?void 0:n.data)==null?void 0:m.message)||"Error generating Excel")})},exportToPDF(){this.pdfBtnLoader=!0;let o=new FormData;o.append("selectedFilter",this.selectedFilter),this.selectedMonth&&o.append("selectedMonth",this.selectedMonth),this.selectedYear&&o.append("selectedYear",this.selectedYear),this.startDate&&o.append("startDate",this.startDate),this.endDate&&o.append("endDate",this.endDate),f.post(route("download-pdf"),o,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}).then(e=>{const n=document.createElement("a"),m=window.URL.createObjectURL(new Blob([e.data]));n.href=m,n.setAttribute("download","TransactionReport.pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),this.pdfBtnLoader=!1}).catch(e=>{var n,m;this.pdfBtnLoader=!1,toastr.error(((m=(n=e.response)==null?void 0:n.data)==null?void 0:m.message)||"Error generating PDF")})},formatDate(o){return new Date(o).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})},warning(){toastr.warning("This feature is not added yet! Working in progress.")},croppedImgPassToForm(o){this.form.receipt_image=o},setAltImg(o){o.target.src="/images/default.jpg"},printSlip(){let o=window.open("","_blank");const e=t=>new Date(2025,t-1,1).toLocaleString("en-US",{month:"long"});let n=new Date().toLocaleString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),m="All Transactions List";this.selectedFilter==="Monthly"?m=`Transactions for ${e(this.selectedMonth)} ${this.selectedYear}`:this.selectedFilter==="Yearly"&&this.selectedYear?m=`Transactions for the Year ${this.selectedYear}`:this.selectedFilter==="Custom"&&this.startDate&&this.endDate&&(m=`Transactions from ${this.formatDate(this.startDate)} to ${this.formatDate(this.endDate)}`),o.document.write(`
        <html>
        <head>
            <title>Transaction Slip</title>
            <style>
                body { font-family: Arial, sans-serif; }
                h2 { text-align: center; margin-bottom: 20px; }
                table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
                th, td { border: 1px solid black; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                .footer { text-align: right; font-size: 12px; margin-top: 20px; }
            </style>
        </head>
        <body>
            <h2>${m}</h2>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Date</th>
                        <th>Receipt No</th>
                        <th>Descriptions</th>
                        <th>Method</th>
                        <th>Type</th>
                        <th>Cash In</th>
                        <th>Cash Out</th>
                        <th>Balance</th>
                    </tr>
                </thead>
                <tbody>
                    ${this.transactionEntries.map((t,i)=>`
                        <tr>
                            <td>${i+1}</td>
                            <td>${t.transaction_date}</td>
                            <td>${t.ref_no}</td>
                            <td>${t.remarks}</td>
                            <td>${t.method}</td>
                            <td>${t.income_type??t.expense_type}</td>
                            <td>${this.formatCurrency(t.cash_in)??0}</td>
                            <td>${this.formatCurrency(t.cash_out)??0}</td>
                            <td>${this.calculateBalance(i)}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>
            <div class="footer">Printed: ${n}</div>
        </body>
        </html>
    `),o.document.close(),o.onload=function(){o.print(),o.close()}},editTransaction(o){this.$refs.openTransactionModal.click(),this.clearFields()}}},L={id:"main",class:"main"},S={class:"pagetitle d-flex justify-content-between"},Y={class:"section"},B={class:"card"},O={class:"card-body"},U={class:"d-flex justify-content-end p-2"},P={key:0,class:"btn-group",role:"group"},N=["disabled"],j={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},A={key:1},R=["disabled"],J={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Z={key:1},z={class:"card card-body p-2"},W={class:"d-flex justify-content-between align-items-center c-filter"},K={class:"d-flex align-items-center gap-2"},q={class:"col-auto"},G={key:0,class:"col-auto d-flex gap-2"},H={class:"col-auto"},Q={class:"col-auto"},X={key:1,class:"col-auto"},$={key:2,class:"col-auto d-flex gap-2"},ee={class:"col-auto"},te=["disabled"],se={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},oe={key:1},re={key:0,class:"text-danger"},le={class:"table-responsive"},ae={class:"table table-striped"},ne={scope:"row"},ie={class:"btn-group"},de=["onClick"],ce={class:"modal fade",id:"transactionmodal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},me={class:"modal-dialog modal-lg"},pe={class:"modal-content"},he={class:"modal-header"},ue={key:0,class:"modal-title text-primary"},fe={key:1,class:"modal-title text-primary"},be={class:"modal-body"},_e={class:"card card-body p-3"},ye={class:"row g-3"},ge={class:"col-12 col-md-12 mb-3"},ve={key:0,class:"invalid-feedback animated fadeIn"},ke={key:0,class:"col-12 col-md-6"},xe={key:0,class:"invalid-feedback animated fadeIn"},Ee={key:1,class:"col-md-6 col-12"},De={key:0,class:"invalid-feedback"},Te={key:2,class:"col-12 col-md-6"},Ce={key:0,class:"invalid-feedback animated fadeIn"},Fe={key:3,class:"col-md-6 col-12"},we={key:0,class:"invalid-feedback"},Me={class:"col-md-6 col-12"},Ve={key:0,class:"invalid-feedback"},Ie={class:"col-12 col-md-6"},Le={key:0,class:"invalid-feedback animated fadeIn"},Se={class:"col-md-6 col-12"},Ye={key:0,class:"invalid-feedback"},Be={class:"col-md-6 col-12"},Oe=["max"],Ue={key:0,class:"invalid-feedback"},Pe={class:"col-md-6 col-12"},Ne=["src"],je=["src"],Ae={key:2,src:"/images/default.jpg",width:100},Re={key:3,class:"invalid-feedback"},Je={class:"mt-3"},Ze={key:1,class:"btn btn-success",type:"button",disabled:""},ze={hidden:"","data-bs-toggle":"modal","data-bs-target":"#customermodal",ref:"closeModal"};function We(o,e,n,m,t,i){const u=y("Multiselect"),k=y("ImageZooming"),x=y("DeleteModal"),E=y("CropperOffCanvas");return l(),a("main",L,[s("div",S,[e[22]||(e[22]=T('<div data-v-1d965d34><h1 class="theme-text-color" data-v-1d965d34>Transaction</h1><nav data-v-1d965d34><ol class="breadcrumb" data-v-1d965d34><li class="breadcrumb-item" data-v-1d965d34><a href="/dashboard" data-v-1d965d34>Alsmi</a></li><li class="breadcrumb-item" data-v-1d965d34>Transaction</li><li class="breadcrumb-item active" data-v-1d965d34>Index</li></ol></nav></div>',1)),s("div",null,[s("button",{class:"btn btn-success mt-3","data-bs-toggle":"modal",ref:"openTransactionModal","data-bs-target":"#transactionmodal",onClick:e[0]||(e[0]=(...r)=>i.clearFields&&i.clearFields(...r))},e[21]||(e[21]=[s("i",{class:"bi bi-plus-lg"},null,-1),g(" New Transaction ")]),512)])]),s("section",Y,[s("div",B,[s("div",O,[e[28]||(e[28]=s("h5",{class:"card-title theme-text-color"}," All Transaction Entries ",-1)),s("div",U,[t.transactionEntries&&t.transactionEntries.length?(l(),a("div",P,[s("button",{class:"btn btn-primary",title:"Download as Excel",onClick:e[1]||(e[1]=(...r)=>i.exportToExcel&&i.exportToExcel(...r)),disabled:t.excelBtnLoader},[t.excelBtnLoader?(l(),a("span",j)):c("",!0),t.excelBtnLoader?c("",!0):(l(),a("span",A,e[23]||(e[23]=[s("i",{class:"bi bi-file-earmark-excel"},null,-1)])))],8,N),s("button",{class:"btn btn-danger",title:"Download as PDF",onClick:e[2]||(e[2]=(...r)=>i.exportToPDF&&i.exportToPDF(...r)),disabled:t.pdfBtnLoader},[t.pdfBtnLoader?(l(),a("span",J)):c("",!0),t.pdfBtnLoader?c("",!0):(l(),a("span",Z,e[24]||(e[24]=[s("i",{class:"bi bi-file-earmark-pdf"},null,-1)])))],8,R),s("button",{class:"btn btn-secondary",title:"Print",onClick:e[3]||(e[3]=(...r)=>i.printSlip&&i.printSlip(...r))},e[25]||(e[25]=[s("i",{class:"bi bi-printer"},null,-1)]))])):c("",!0)]),s("div",z,[s("div",W,[s("div",K,[s("div",q,[p(u,{modelValue:t.selectedFilter,"onUpdate:modelValue":e[4]||(e[4]=r=>t.selectedFilter=r),options:["Monthly","Yearly","Custom"],searchable:!0,placeholder:"Filter By"},null,8,["modelValue"])]),t.selectedFilter==="Monthly"?(l(),a("div",G,[s("div",H,[p(u,{modelValue:t.selectedYear,"onUpdate:modelValue":e[5]||(e[5]=r=>t.selectedYear=r),options:t.yearsOptions,searchable:!0,onClear:i.fetchTransactionEntries,placeholder:"Select Year"},null,8,["modelValue","options","onClear"])]),s("div",Q,[p(u,{modelValue:t.selectedMonth,"onUpdate:modelValue":e[6]||(e[6]=r=>t.selectedMonth=r),options:t.monthsOptions,searchable:!0,onClear:i.fetchTransactionEntries,placeholder:"Select Month"},null,8,["modelValue","options","onClear"])])])):c("",!0),t.selectedFilter==="Yearly"?(l(),a("div",X,[p(u,{modelValue:t.selectedYear,"onUpdate:modelValue":e[7]||(e[7]=r=>t.selectedYear=r),options:t.yearsOptions,searchable:!0,onClear:i.fetchTransactionEntries,placeholder:"Select Year"},null,8,["modelValue","options","onClear"])])):c("",!0),t.selectedFilter==="Custom"?(l(),a("div",$,[b(s("input",{type:"date",class:h(["form-control",{"invalid-bg":t.formErrors.startDate}]),id:"date","onUpdate:modelValue":e[8]||(e[8]=r=>t.startDate=r),placeholder:"Start Date"},null,2),[[_,t.startDate]]),b(s("input",{type:"date",class:h(["form-control",{"invalid-bg":t.formErrors.endDate}]),id:"date","onUpdate:modelValue":e[9]||(e[9]=r=>t.endDate=r),placeholder:"End Date"},null,2),[[_,t.endDate]])])):c("",!0),s("div",ee,[s("button",{onClick:e[10]||(e[10]=(...r)=>i.fetchTransactionEntries&&i.fetchTransactionEntries(...r)),class:"btn btn-success",disabled:t.serachingLoading},[t.serachingLoading?(l(),a("span",se)):c("",!0),t.serachingLoading?c("",!0):(l(),a("span",oe,"Search"))],8,te)])])]),t.FilterErrors?(l(),a("span",re,d(t.FilterErrors),1)):c("",!0)]),s("div",le,[s("table",ae,[e[27]||(e[27]=s("thead",null,[s("tr",null,[s("th",{scope:"col"},"#"),s("th",{scope:"col"},"Date"),s("th",{scope:"col"},"Reciept No"),s("th",{scope:"col"},"Descriptions"),s("th",{scope:"col"},"Method"),s("th",{scope:"col"},"Type"),s("th",{scope:"col"},"Cash In"),s("th",{scope:"col"},"Cash Out"),s("th",{scope:"col"},"Balance"),s("th",{scope:"col"},"Reciept"),s("th",{scope:"col"},"Action")])],-1)),s("tbody",null,[(l(!0),a(C,null,F(t.transactionEntries,(r,v)=>(l(),a("tr",{key:r.id},[s("th",ne,d(v+1),1),s("td",null,d(r.transaction_date),1),s("td",null,d(r.ref_no),1),s("td",null,d(r.remarks),1),s("td",null,d(r.method),1),s("td",null,d(r.income_type??r.expense_type),1),s("td",null,d(i.formatCurrency(r.cash_in)??0),1),s("td",null,d(i.formatCurrency(r.cash_out)??0),1),s("td",null,d(i.calculateBalance(v)),1),s("td",null,[p(k,{file:r.receipt_image??"/images/default.jpg",width:100},null,8,["file"])]),s("td",null,[s("div",ie,[s("button",{class:"btn btn-sm fs-6",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#transactionmodal",onClick:Ke=>{i.showEntry(r.id),i.clearFields()}},e[26]||(e[26]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,de),p(x,{deleteId:r.id,onDeleteThis:i.deleteThis},null,8,["deleteId","onDeleteThis"])])])]))),128))])])])])]),s("div",ce,[s("div",me,[s("div",pe,[s("div",he,[t.form.id?(l(),a("h5",ue,[g(d(t.form.remarks)+" - "+d(t.form.method)+" ",1),s("small",null,"("+d(t.form.date)+")",1)])):(l(),a("h5",fe," New Transaction Entry ")),e[29]||(e[29]=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),s("div",be,[s("div",_e,[s("div",ye,[s("div",ge,[e[30]||(e[30]=s("label",null,d("Process Type"),-1)),p(u,{modelValue:t.form.process_type,"onUpdate:modelValue":e[11]||(e[11]=r=>t.form.process_type=r),options:t.processTypeOptions,searchable:!0,onSelect:i.clearProcessType,class:h({"invalid-bg":t.formErrors.process_type})},null,8,["modelValue","options","onSelect","class"]),t.formErrors.process_type?(l(),a("div",ve,d(t.formErrors.process_type[0]),1)):c("",!0)]),t.form.process_type=="Income"?(l(),a("div",ke,[e[31]||(e[31]=s("label",null,d("Income Type"),-1)),p(u,{modelValue:t.form.income_type,"onUpdate:modelValue":e[12]||(e[12]=r=>t.form.income_type=r),options:t.IncomeTypesOpions,searchable:!0,class:h({"invalid-bg":t.formErrors.income_type})},null,8,["modelValue","options","class"]),t.formErrors.income_type?(l(),a("div",xe,d(t.formErrors.income_type[0]),1)):c("",!0)])):c("",!0),t.form.process_type=="Income"?(l(),a("div",Ee,[e[32]||(e[32]=s("label",{for:"cash_in",class:"form-label"},"Cash In",-1)),b(s("input",{type:"text",class:h(["form-control",{"invalid-bg":t.formErrors.cash_in}]),id:"cash_in","onUpdate:modelValue":e[13]||(e[13]=r=>t.form.cash_in=r)},null,2),[[_,t.form.cash_in]]),t.formErrors.cash_in?(l(),a("div",De,d(t.formErrors.cash_in[0]),1)):c("",!0)])):c("",!0),t.form.process_type=="Expense"?(l(),a("div",Te,[e[33]||(e[33]=s("label",{class:"form-label"},d("Expense Type"),-1)),p(u,{modelValue:t.form.expense_type,"onUpdate:modelValue":e[14]||(e[14]=r=>t.form.expense_type=r),options:t.ExpansTypesOpions,searchable:!0,class:h({"invalid-bg":t.formErrors.expense_type})},null,8,["modelValue","options","class"]),t.formErrors.expense_type?(l(),a("div",Ce,d(t.formErrors.expense_type[0]),1)):c("",!0)])):c("",!0),t.form.process_type=="Expense"?(l(),a("div",Fe,[e[34]||(e[34]=s("label",{for:"cash_out",class:"form-label"},"Cash Out",-1)),b(s("input",{type:"text",class:h(["form-control",{"invalid-bg":t.formErrors.cash_out}]),id:"cash_out","onUpdate:modelValue":e[15]||(e[15]=r=>t.form.cash_out=r)},null,2),[[_,t.form.cash_out]]),t.formErrors.cash_out?(l(),a("div",we,d(t.formErrors.cash_out[0]),1)):c("",!0)])):c("",!0),s("div",Me,[e[35]||(e[35]=s("label",{for:"remarks",class:"form-label"},"Description",-1)),b(s("input",{type:"text",class:h(["form-control",{"invalid-bg":t.formErrors.remarks}]),id:"remarks","onUpdate:modelValue":e[16]||(e[16]=r=>t.form.remarks=r)},null,2),[[_,t.form.remarks]]),t.formErrors.remarks?(l(),a("div",Ve,d(t.formErrors.remarks[0]),1)):c("",!0)]),s("div",Ie,[e[36]||(e[36]=s("label",{class:"form-label"},d("Payment Method"),-1)),p(u,{modelValue:t.form.method,"onUpdate:modelValue":e[17]||(e[17]=r=>t.form.method=r),options:t.methodTypesOpions,searchable:!0,class:h({"invalid-bg":t.formErrors.method})},null,8,["modelValue","options","class"]),t.formErrors.method?(l(),a("div",Le,d(t.formErrors.method[0]),1)):c("",!0)]),s("div",Se,[e[37]||(e[37]=s("label",{for:"type",class:"form-label"},"Reciept No",-1)),b(s("input",{type:"text",class:h(["form-control",{"invalid-bg":t.formErrors.ref_no}]),id:"type","onUpdate:modelValue":e[18]||(e[18]=r=>t.form.ref_no=r)},null,2),[[_,t.form.ref_no]]),t.formErrors.ref_no?(l(),a("div",Ye,d(t.formErrors.ref_no[0]),1)):c("",!0)]),s("div",Be,[e[38]||(e[38]=s("label",{for:"date",class:"form-label"},"Date",-1)),b(s("input",{type:"date",class:h(["form-control",{"invalid-bg":t.formErrors.date}]),max:t.today,id:"date","onUpdate:modelValue":e[19]||(e[19]=r=>t.form.date=r)},null,10,Oe),[[_,t.form.date]]),t.formErrors.date?(l(),a("div",Ue,d(t.formErrors.date[0]),1)):c("",!0)]),s("div",Pe,[e[39]||(e[39]=s("label",{for:"receipt_image",class:"form-label"},"Receipt image",-1)),e[40]||(e[40]=s("br",null,null,-1)),p(E,{onCroppedImg:i.croppedImgPassToForm,accept:".jpg,.jpeg,.png"},null,8,["onCroppedImg"]),e[41]||(e[41]=s("br",null,null,-1)),t.form.receipt_image?(l(),a("img",{key:0,src:t.form.receipt_image??"/images/default.jpg",width:100},null,8,Ne)):t.existing_receipt_image?(l(),a("img",{key:1,src:t.existing_receipt_image??"/images/default.jpg",width:100},null,8,je)):(l(),a("img",Ae)),t.formErrors.receipt_image?(l(),a("div",Re,d(t.formErrors.receipt_image[0]),1)):c("",!0)]),s("div",Je,[t.formStatus==1?(l(),a("button",{key:0,type:"submit",class:"btn btn-success",onClick:e[20]||(e[20]=(...r)=>i.submit&&i.submit(...r))}," Save ")):(l(),a("button",Ze,e[42]||(e[42]=[g(" Saving "),s("span",{class:"spinner-border spinner-border-sm"},null,-1)])))])])])])])]),s("button",ze,null,512)])])])}const tt=D(I,[["render",We],["__scopeId","data-v-1d965d34"]]);export{tt as default};
